import{j as o,r}from"./iframe-C6gT_53K.js";import{c as w,u as f}from"./component-JLmv1WeE.js";import{V as h}from"./Viewer-BpQEPut0.js";import{C as x}from"./CameraFlyTo-vw8grLiH.js";import"./preload-helper-PPVm8Dsz.js";import"./CameraOperation-DGWI4JAc.js";const y=["show","emitter","modelMatrix","emitterModelMatrix","emissionRate","bursts","loop","startScale","endScale","startColor","endColor","image","imageSize","minimumImageSize","maximumImageSize","speed","minimumSpeed","maximumSpeed","lifetime","particleLife","minimumParticleLife","maximumParticleLife","mass","minimumMass","maximumMass","sizeInMeters"],g={onComplete:"complete",onUpdate:"updateCallback"},l=w({name:"ParticleSystem",create(i,e){if(!i.primitiveCollection)return;const t=new Cesium.ParticleSystem({...e,updateCallback:e.onUpdate});return i.primitiveCollection.add(t),t},update(i,e,t){e.onUpdate!==t.onUpdate&&(i.updateCallback=e.onUpdate)},destroy(i,e){e.primitiveCollection&&!e.primitiveCollection.isDestroyed()&&e.primitiveCollection.remove(i)},cesiumProps:y,cesiumEventProps:g}),T={title:"ParticleSystem",component:l},u=new Cesium.Cartesian3(277096.634865404,5647834481964232e-9,2.9855637039122293e6),c=1,s=1e5,P=()=>{const i=f().scene,e=r.useRef(new Cesium.Cartesian3),t=i?i.drawingBufferWidth/100:0,d=r.useMemo(()=>new Cesium.Cartesian2(t,t),[t]),p=r.useMemo(()=>new Cesium.Cartesian2(t*2,t*2),[t]),C=r.useMemo(()=>new Cesium.SphereEmitter(s),[]),S=r.useCallback(a=>{if(!i)return;e.current=Cesium.Cartesian3.normalize(a.position,e.current),Cesium.Cartesian3.multiplyByScalar(e.current,Cesium.Math.randomBetween(-30,-300),e.current),a.velocity=Cesium.Cartesian3.add(a.velocity,e.current,a.velocity);const m=Cesium.Cartesian3.distance(i.camera.position,a.position);m>s?a.endColor.alpha=0:a.endColor.alpha=c/(m/s+.1)},[i]);return o.jsx(l,{modelMatrix:Cesium.Matrix4.fromTranslation(u),minimumSpeed:-1,maximumSpeed:0,lifetime:15,emitter:C,startScale:.5,endScale:1,image:"circular_particle.png",emissionRate:7e3,startColor:Cesium.Color.WHITE.withAlpha(0),endColor:Cesium.Color.WHITE.withAlpha(c),minimumImageSize:d,maximumImageSize:p,onUpdate:S})},n={render:()=>o.jsxs(h,{full:!0,shouldAnimate:!0,terrainProvider:Cesium.createWorldTerrainAsync({}),children:[o.jsx(x,{duration:0,destination:u,orientation:{heading:4.731089976107251,pitch:-.32003481981370063}}),o.jsx(P,{})]})};n.parameters={...n.parameters,docs:{...n.parameters?.docs,source:{originalSource:`{
  render: () => <Viewer full shouldAnimate terrainProvider={createWorldTerrainAsync({})}>
      <CameraFlyTo duration={0} destination={pos} orientation={{
      heading: 4.731089976107251,
      pitch: -0.32003481981370063
    }} />
      <SnowParticle />
    </Viewer>
}`,...n.parameters?.docs?.source}}};const j=["Snow"];export{n as Snow,j as __namedExportsOrder,T as default};
